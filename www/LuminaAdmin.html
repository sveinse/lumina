<div class="container-fluid">

  <h2>Server</h2>
  <table class="table table-borderless table-no-width table-condensed table-hover">
    <tr>
      <th class="text-right">Name</th>
      <td>{{main.hostname}} ({{main.hostid}})</td>
    </tr>
    <tr>
      <th class="text-right">Connections</th>
      <td>{{server.nodes.length}} nodes from {{server.hosts.length}} hosts</td>
    </tr>
    <tr>
      <th class="text-right"># Commands / Events / Configs</th>
      <td>{{server.n_commands}} / {{server.n_events}} / {{main.n_config}}</td>
      </tr>
    <tr>
      <th class="text-right">Status</th>
      <td>{{main.status}} / {{main.status_why}}</td>
    </tr>
  </table>


  <h2>Nodes</h2>
  <table class="table table-striped table-hover">
    <tr>
      <th>#</th>
      <th>Name (Plugin)</th>
      <th>Host (ID)</th>
      <th># commands /<br># events</th>
      <th>Status</th>
    </tr>
    <tr ng-repeat="e in nodes">
      <td>{{e.seqence}}</td>
      <td>{{e.name}} ({{e.module}})</td>
      <td>{{e.hostname}} ({{e.hostid}})</td>
      <td>{{e.n_commands}} / {{e.n_events}}</td>
      <td>{{e.status}} / {{e.status_why}}</td>
    </tr>
  </table>


  <h2>Hosts</h2>
  <table class="table table-striped table-hover">
    <tr>
      <th>Host (ID)</th>
      <th># Plugins</th>
      <th># Config</th>
      <th>Status</th>
    </tr>
    <tr ng-repeat="e in hosts" ng-click="select_host(e.hostid)">
      <td>{{e.hostname}} ({{e.hostid}})</td>
      <td>{{e.plugins.length}}</td>
      <td>{{e.configs}}</td>
      <td>{{e.status}} / {{e.status_why}}</td>
    </tr>
  </table>


  <div ng-if="sel_host">
  <h2>Plugins<small>&nbsp; on {{sel_host.hostname}} ({{sel_host.hostid}})</small></h2>
  <table class="table table-striped table-hover">
    <tr>
      <th>#</th>
      <th>Name (Plugin)</th>
      <th>Status</th>
      <th>Documentation</th>
    </tr>
    <tr ng-repeat="e in sel_plugins">
      <td>{{e.sequence}}</td>
      <td>{{e.name}} ({{e.module}})</td>
      <td>{{e.status}} / {{e.status_why}}</td>
      <td>{{e.doc}}</td>
    </tr>
  </table>
  </div>


  <div ng-if="sel_host">
  <h2>Config<small>&nbsp; on {{sel_host.hostname}} ({{sel_host.hostid}})</small></h2>
  <table class="table table-striped table-hover">
    <tr>
      <th>Key</th>
      <th>Value</th>
      <th>Default</th>
      <th>Type</th>
      <th>Help</th>
    </tr>
    <tr ng-repeat="e in sel_config">
      <td>{{e.key}}</td>
      <td>{{e.value}}</td>
      <td>{{e.default}}</td>
      <td>{{e.type}}</td>
      <td>{{e.help}}</td>
    </tr>
  </table>
  </div>

</div>
